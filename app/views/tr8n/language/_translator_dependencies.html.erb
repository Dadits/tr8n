<%= form_for(@translation, :as => :translation, :url => {:controller => "/tr8n/translations", :action => :translate}, :html => {:id => 'tr8n_translator_form', :method => :post}) do |f| %>
    <%= hidden_field_tag(:translation_key_id, @translation_key.id) %>
    <%= hidden_field_tag(:source_url, @source_url) %>
    <%= hidden_field_tag(:translation_has_dependencies, "true") %>

    <div style="padding:10px;">
      <%= render(:partial => "translator_header")%>

      <div id="tr8n_translator_dependencies_container">
         <div class="small_section_title">
            <%=trla("Context Rules")%>
         </div>
        
	      <div style="padding-bottom:15px;">
	        <%=render :partial => "/tr8n/common/permutations" %>
	      </div>

        <%=link_to_function(trla("Click here if there are no context rules for this phrase"), "tr8nTranslator.switchTranslatorMode('#{@translation_key.id}', 'submit', '#{@source_url}')", :style => "font-size:10px;") %>
     </div>      
    </div>
<% end %>

<div id="tr8n_translator_buttons_container" class="buttons_container">
    <button type="submit" class="translator_btn translator_submit_btn" onClick="tr8nTranslator.submitDependencies(); return false;">
        <span><%=trla("Continue...")%></span>
    </button>
</div>
